<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Theme Made By www.w3schools.com -->
  <title>UESM</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
  <script>
    function fillForm(codigo, autor, data_criacao, data_publicacao, title, content, imagem) {
        document.getElementById('codigo').value = codigo;
        document.getElementById('autor').value = autor;
        document.getElementById('created_at').value = data_criacao;
        document.getElementById('data_publicacao').value = data_publicacao;
        document.getElementById('title').value = title;
        document.getElementById('content').value = content;
        document.getElementById('imagem').value = imagem;
    }
</script>

  
  <style>
    body {
      font: 400 15px Lato, sans-serif;
      line-height: 1.8;
      color: #818181;
    }
    h2 {
      font-size: 24px;
      text-transform: uppercase;
      color: #303030;
      font-weight: 600;
      margin-bottom: 30px;
    }
    h4 {
      font-size: 19px;
      line-height: 1.375em;
      color: #303030;
      font-weight: 400;
      margin-bottom: 30px;
    }  
    .jumbotron {
      background-color: #f4511e;
      color: #fff;
      padding: 50px 25px;
      font-family: Montserrat, sans-serif;
    }
    .container-fluid {
      padding: 60px 50px;
    }
    .bg-grey {
      background-color: #f6f6f6;
    }
    .logo-small {
      color: #f4511e;
      font-size: 50px;
    }
    .logo {
      color: #f4511e;
      font-size: 200px;
    }
    .thumbnail {
      padding: 0 0 15px 0;
      border: none;
      border-radius: 0;
    }

    .thumbnail {
            padding: 15px;
            border: none;
            border-radius: 0;
            margin-bottom: 30px;
        }
        .thumbnail iframe {
            max-width: 100%;
            height: auto;
        }
        .col-sm-4 {
            padding: 0 15px;
        }
        @media (max-width: 767px) {
            .col-sm-4 {
                margin-bottom: 30px;
            }
        }   

    .thumbnail img {
      width: 100%;
      height: 100%;
      margin-bottom: 10px;
    }
    .carousel-control.right, .carousel-control.left {
      background-image: none;
      color: #f4511e;
    }
    .carousel-indicators li {
      border-color: #f4511e;
    }
    .carousel-indicators li.active {
      background-color: #f4511e;
    }
    .item h4 {
      font-size: 19px;
      line-height: 1.375em;
      font-weight: 400;
      font-style: italic;
      margin: 70px 0;
    }
    .item span {
      font-style: normal;
    }
    .panel {
      border: 1px solid #f4511e; 
      border-radius:0 !important;
      transition: box-shadow 0.5s;
    }
    .panel:hover {
      box-shadow: 5px 0px 40px rgba(0,0,0, .2);
    }
    .panel-footer .btn:hover {
      border: 1px solid #f4511e;
      background-color: #fff !important;
      color: #f4511e;
    }
    .panel-heading {
      color: #fff !important;
      background-color: #f4511e !important;
      padding: 25px;
      border-bottom: 1px solid transparent;
      border-top-left-radius: 0px;
      border-top-right-radius: 0px;
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
    }
    .panel-footer {
      background-color: white !important;
    }
    .panel-footer h3 {
      font-size: 32px;
    }
    .panel-footer h4 {
      color: #aaa;
      font-size: 14px;
    }
    .panel-footer .btn {
      margin: 15px 0;
      background-color: #f4511e;
      color: #fff;
    }
    .navbar {
      margin-bottom: 0;
      background-color: #f4511e;
      z-index: 9999;
      border: 0;
      font-size: 12px !important;
      line-height: 1.42857143 !important;
      letter-spacing: 4px;
      border-radius: 0;
      font-family: Montserrat, sans-serif;
      padding: 0 15px; /* Ajuste o padding para evitar que o conteúdo fique muito próximo das bordas */
      border-bottom: 3px solid #fff; /* Linha branca abaixo do menu */
    }
    .navbar .navbar-brand {
      padding: 10px 15px; /* Ajuste o padding para melhor alinhamento */
    }
    .navbar-brand img {
      height: 30px; /* Define a altura da imagem */
      width: auto; /* Mantém a proporção da imagem */
    }
    .navbar li a, .navbar .navbar-brand {
      color: #fff !important;
    }
    .navbar-nav li a:hover, .navbar-nav li.active a {
      color: #f4511e !important;
      background-color: #fff !important;
    }
    .navbar-default .navbar-toggle {
      border-color: transparent;
      color: #fff !important;
    }
    footer .glyphicon {
      font-size: 20px;
      margin-bottom: 20px;
      color: #f4511e;
    }
    .slideanim {visibility:hidden;}
    .slide {
      animation-name: slide;
      -webkit-animation-name: slide;
      animation-duration: 1s;
      -webkit-animation-duration: 1s;
      visibility: visible;
    }
    @keyframes slide {
      0% {
        opacity: 0;
        transform: translateY(70%);
      } 
      100% {
        opacity: 1;
        transform: translateY(0%);
      }
    }
    @-webkit-keyframes slide {
      0% {
        opacity: 0;
        -webkit-transform: translateY(70%);
      } 
      100% {
        opacity: 1;
        -webkit-transform: translateY(0%);
      }
    }
    @media screen and (max-width: 768px) {
      .col-sm-4 {
        text-align: center;
        margin: 25px 0;
      }
      .btn-lg {
        width: 100%;
        margin-bottom: 35px;
      }
    }
    @media screen and (max-width: 480px) {
      .logo {
        font-size: 150px;
      }
    }

   .thumbnail {
    padding: 15px; /* Adiciona preenchimento ao redor do conteúdo */
    border: none;
    border-radius: 0;
    margin-bottom: 30px; /* Espaço entre as linhas de thumbnails */
  }

  .thumbnail iframe {
    max-width: 100%; /* Garante que o iframe não ultrapasse a largura da coluna */
    height: auto; /* Ajusta a altura automaticamente mantendo a proporção */
  }

  .col-sm-4 {
    padding: 0 15px; /* Adiciona espaçamento horizontal entre as colunas */
  }

  /* Ajuste o espaçamento em telas menores */
  @media (max-width: 767px) {
    .col-sm-4 {
      margin-bottom: 30px; /* Espaço inferior em telas menores */
    }
  }



  </style>
  
</head>
<body id="myPage" data-spy="scroll" data-target=".navbar" data-offset="60">

  <nav class="navbar navbar-default navbar-fixed-top" style="background-color: #f4511e;">
    <div class="container">
    
      <div class="navbar-header" >
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="https://uesm.vercel.app/video">
          <img src="../static/img/logo3.png" alt="Marco Sorrindo todo maravilhoso" width="30" height="30">
        </a>
     
      </div>
      <div class="collapse navbar-collapse" id="myNavbar">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/video">DESFILES</a></li>
          <li><a href="/posts">NOTÍCIAS</a></li>
          <li> {% if nome %} <a href="/logout">OLÁ, {{ nome }}!  SAIR</a> {% else %} <a href="/login">Entrar</a> {% endif %}</li>
        </ul>
      </div>
    </div>
  </nav>
  


  <div class="container mt-5">
    <h2>Gerenciar Notícia</h2>

    <!-- Formulário para adicionar/atualizar/excluir notícias -->
    <form action="/manage_post" method="POST">
        <div class="form-group">
            <label for="codigo">Código do Post:</label>
            <input type="number" class="form-control" id="codigo" name="codigo" placeholder="Código">
        </div>
        <div class="form-group">
            <label for="autor">Autor:</label>
            <input type="text" class="form-control" id="autor" name="autor" placeholder="Autor">
        </div>
        <div class="form-group">
            <label for="data_publicacao">Data de Publicação:</label>
            <input type="text" class="form-control" id="data_publicacao" name="data_publicacao">
        </div>
        <div class="form-group">
            <label for="created_at">Data de Criação:</label>
            <input type="text" class="form-control" id="created_at" name="created_at">
        </div>
        <div class="form-group">
            <label for="title">Título:</label>
            <input type="text" class="form-control" id="title" name="title" placeholder="Título">
        </div>
        <div class="form-group">
            <label for="content">Conteúdo:</label>
            <textarea class="form-control" id="content" name="content" rows="5" placeholder="Conteúdo"></textarea>
        </div>
        <div class="form-group">
            <label for="imagem">Imagem URL:</label>
            <input type="text" class="form-control" id="imagem" name="imagem" placeholder="URL da Imagem">
        </div>
        <button type="submit" name="action" value="add" class="btn btn-primary">Cadastrar Notícia</button>
        <button type="submit" name="action" value="update" class="btn btn-warning">Atualizar Notícia</button>
        <button type="submit" name="action" value="delete" class="btn btn-danger">Excluir Notícia</button>
    </form>

    <!-- Tabela para exibir as notícias -->
    <div class="mt-5">
        <h3>Notícias Cadastradas</h3>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Código</th>
                    <th>Autor</th>
                    <th>Data de Criação</th>
                    <th>Data de Publicação</th>
                    <th>Título</th>
                    <th>Conteúdo</th>
                    <th>Imagem URL</th>
                    <th>Ação</th>
                </tr>
            </thead>
            <tbody>
                {% for post in recent_posts %}
                <tr>
                    <td>{{ post[0] }}</td>
                    <td>{{ post[1] }}</td>
                    <td>{{ post[2] }}</td>
                    <td>{{ post[3] }}</td>
                    <td>{{ post[4] }}</td>
                    <td>{{ post[5] }}</td>
                    <td>{{ post[6] }}</td>
                    <td>
                        <button class="btn btn-info btn-sm" onclick="fillForm({{ post[0] }}, '{{ post[1] }}', '{{ post[2] }}', '{{ post[3] }}', '{{ post[4] }}', '{{ post[5] }}', '{{ post[6] }}')">Selecionar</button>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>



 

  <footer class="container-fluid text-center" style="background-color: #f4511e; color: white; padding: 20px;">
    <a href="#myPage" title="To Top">
      <span class="glyphicon glyphicon-chevron-up"></span>
    </a>
    <p>União das Escolas de Samba de Maquete <a href="https://www.uesm.com.br" title="UESM" style="color: white;">www.uesm.com.br</a></p>
    <ul class="list-unstyled" style="padding: 0;">
      <li><a href="/" style="color: white;">Início</a></li>
      <li><a href="/video" style="color: white;">Vídeos</a></li>
      <li><a href="/posts" style="color: white;">Posts</a></li>
      <li><a href="/cadastrar_post" style="color: white;">Cadastrar Notícia</a></li>
      <li><a href="/sobre" style="color: white;">Sobre</a></li>
      <li><a href="/contato" style="color: white;">Contato</a></li>
    </ul>
  </footer>  
</body>
</html>
